(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[4],{BsWD:function(n,t,r){"use strict";r.d(t,"a",(function(){return i}));var e=r("a3WO");function i(n,t){if(n){if("string"===typeof n)return Object(e.a)(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(e.a)(n,t):void 0}}},"HaE+":function(n,t,r){"use strict";function e(n,t,r,e,i,u,a){try{var s=n[u](a),o=s.value}catch(c){return void r(c)}s.done?t(o):Promise.resolve(o).then(e,i)}function i(n){return function(){var t=this,r=arguments;return new Promise((function(i,u){var a=n.apply(t,r);function s(n){e(a,i,u,s,o,"next",n)}function o(n){e(a,i,u,s,o,"throw",n)}s(void 0)}))}}r.d(t,"a",(function(){return i}))},JePm:function(n,t,r){"use strict";var e=r("q1tI"),i=r.n(e),u=r("dWXJ"),a=r("kelf"),s=function(n,t){if(u.b&&n&&t){var r=new AudioBufferSourceNode(u.b);return r.buffer=t,r.connect(n),r.start(),!0}return!1};t.a=function(n){var t=n.chart,r=n.canonicalChart,e=n.timeRef,o=n.playing,c=n.enableBeatTick,f=n.canonicalTicks,h=i.a.useRef(0),l=i.a.useCallback((function(){if(t.beatTimeline[h.current]&&t.beatTimeline[h.current].time<=e.current)for(c&&!f&&s(u.c.suppressed,u.a.beat);t.beatTimeline[h.current]&&t.beatTimeline[h.current].time<=e.current;)h.current++}),[t,c,f]),d=i.a.useRef(0),m=i.a.useCallback((function(){if(r.beatTimeline[d.current]&&r.beatTimeline[d.current].time<=e.current)for(c&&f&&s(u.c.suppressed,u.a.beat);r.beatTimeline[d.current]&&r.beatTimeline[d.current].time<=e.current;)d.current++}),[r,c,f]),p=i.a.useRef(0),b=i.a.useCallback((function(){if(t.arrowTimeline[p.current]&&t.arrowTimeline[p.current].time<=e.current){var n=t.arrowTimeline[p.current].tags,r=n.shock,i=n.jump;for(r?s(u.c.suppressed,u.a.shock):(s(u.c.normal,u.a.tick),i&&s(u.c.normal,u.a.tick));t.arrowTimeline[p.current]&&t.arrowTimeline[p.current].time<=e.current;)p.current++}}),[t]),v=i.a.useRef(t.bpmTimeline.findIndex((function(n){return e.current<n.time&&0===n.bpm}))),w=i.a.useCallback((function(){if(t.bpmTimeline[v.current]&&t.bpmTimeline[v.current].time<=e.current)for(s(u.c.suppressed,u.a.stop);t.bpmTimeline[v.current]&&(0!==t.bpmTimeline[v.current].bpm||t.bpmTimeline[v.current].time<=e.current);)v.current++}),[t]),N=i.a.useRef(0),k=i.a.useCallback((function(){e.current<N.current&&(h.current=t.beatTimeline.findIndex((function(n){return e.current<n.time})),d.current=r.beatTimeline.findIndex((function(n){return e.current<n.time})),p.current=t.arrowTimeline.findIndex((function(n){return e.current<n.time})),v.current=t.bpmTimeline.findIndex((function(n){return e.current<n.time&&0===n.bpm}))),N.current=e.current}),[t,r]);return Object(a.a)((function(){o&&(k(),l(),m(),b(),w())}),[k,l,m,b,w,o]),null}},ODXe:function(n,t,r){"use strict";r.d(t,"a",(function(){return i}));var e=r("BsWD");function i(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(n)){var r=[],e=!0,i=!1,u=void 0;try{for(var a,s=n[Symbol.iterator]();!(e=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);e=!0);}catch(o){i=!0,u=o}finally{try{e||null==s.return||s.return()}finally{if(i)throw u}}return r}}(n,t)||Object(e.a)(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},Svfw:function(n,t,r){!function(r){"use strict";var e={s:1,n:0,d:1};function i(n,t){if(isNaN(n=parseInt(n,10)))throw h();return n*t}function u(n,t){if(0===t)throw f();var r=Object.create(c.prototype);r.s=n<0?-1:1;var e=o(n=n<0?-n:n,t);return r.n=n/e,r.d=t/e,r}function a(n){for(var t={},r=n,e=2,i=4;i<=r;){for(;r%e===0;)r/=e,t[e]=(t[e]||0)+1;i+=1+2*e++}return r!==n?r>1&&(t[r]=(t[r]||0)+1):t[n]=(t[n]||0)+1,t}var s=function(n,t){var r,u=0,a=1,s=1,o=0,c=0,d=0,m=1,p=1,b=0,v=1,w=1,N=1,k=1e7;if(void 0===n||null===n);else if(void 0!==t){if(s=(u=n)*(a=t),u%1!==0||a%1!==0)throw l()}else switch(typeof n){case"object":if("d"in n&&"n"in n)u=n.n,a=n.d,"s"in n&&(u*=n.s);else{if(!(0 in n))throw h();u=n[0],1 in n&&(a=n[1])}s=u*a;break;case"number":if(n<0&&(s=n,n=-n),n%1===0)u=n;else if(n>0){for(n>=1&&(n/=p=Math.pow(10,Math.floor(1+Math.log(n)/Math.LN10)));v<=k&&N<=k;){if(n===(r=(b+w)/(v+N))){v+N<=k?(u=b+w,a=v+N):N>v?(u=w,a=N):(u=b,a=v);break}n>r?(b+=w,v+=N):(w+=b,N+=v),v>k?(u=w,a=N):(u=b,a=v)}u*=p}else(isNaN(n)||isNaN(t))&&(a=u=NaN);break;case"string":if(null===(v=n.match(/\d+|./g)))throw h();if("-"===v[b]?(s=-1,b++):"+"===v[b]&&b++,v.length===b+1?c=i(v[b++],s):"."===v[b+1]||"."===v[b]?("."!==v[b]&&(o=i(v[b++],s)),(++b+1===v.length||"("===v[b+1]&&")"===v[b+3]||"'"===v[b+1]&&"'"===v[b+3])&&(c=i(v[b],s),m=Math.pow(10,v[b].length),b++),("("===v[b]&&")"===v[b+2]||"'"===v[b]&&"'"===v[b+2])&&(d=i(v[b+1],s),p=Math.pow(10,v[b+1].length)-1,b+=3)):"/"===v[b+1]||":"===v[b+1]?(c=i(v[b],s),m=i(v[b+2],1),b+=3):"/"===v[b+3]&&" "===v[b+1]&&(o=i(v[b],s),c=i(v[b+2],s),m=i(v[b+4],1),b+=5),v.length<=b){s=u=d+(a=m*p)*o+p*c;break}default:throw h()}if(0===a)throw f();e.s=s<0?-1:1,e.n=Math.abs(u),e.d=Math.abs(a)};function o(n,t){if(!n)return t;if(!t)return n;for(;;){if(!(n%=t))return t;if(!(t%=n))return n}}function c(n,t){if(s(n,t),!(this instanceof c))return u(e.s*e.n,e.d);n=o(e.d,e.n),this.s=e.s,this.n=e.n/n,this.d=e.d/n}var f=function(){return new Error("Division by Zero")},h=function(){return new Error("Invalid argument")},l=function(){return new Error("Parameters must be integer")};c.prototype={s:1,n:0,d:1,abs:function(){return u(this.n,this.d)},neg:function(){return u(-this.s*this.n,this.d)},add:function(n,t){return s(n,t),u(this.s*this.n*e.d+e.s*this.d*e.n,this.d*e.d)},sub:function(n,t){return s(n,t),u(this.s*this.n*e.d-e.s*this.d*e.n,this.d*e.d)},mul:function(n,t){return s(n,t),u(this.s*e.s*this.n*e.n,this.d*e.d)},div:function(n,t){return s(n,t),u(this.s*e.s*this.n*e.d,this.d*e.n)},clone:function(){return u(this.s*this.n,this.d)},mod:function(n,t){if(isNaN(this.n)||isNaN(this.d))return new c(NaN);if(void 0===n)return u(this.s*this.n%this.d,1);if(s(n,t),0===e.n&&0===this.d)throw f();return u(this.s*(e.d*this.n)%(e.n*this.d),e.d*this.d)},gcd:function(n,t){return s(n,t),u(o(e.n,this.n)*o(e.d,this.d),e.d*this.d)},lcm:function(n,t){return s(n,t),0===e.n&&0===this.n?u(0,1):u(e.n*this.n,o(e.n,this.n)*o(e.d,this.d))},ceil:function(n){return n=Math.pow(10,n||0),isNaN(this.n)||isNaN(this.d)?new c(NaN):u(Math.ceil(n*this.s*this.n/this.d),n)},floor:function(n){return n=Math.pow(10,n||0),isNaN(this.n)||isNaN(this.d)?new c(NaN):u(Math.floor(n*this.s*this.n/this.d),n)},round:function(n){return n=Math.pow(10,n||0),isNaN(this.n)||isNaN(this.d)?new c(NaN):u(Math.round(n*this.s*this.n/this.d),n)},roundTo:function(n,t){return s(n,t),u(this.s*Math.round(this.n*e.d/(this.d*e.n))*e.n,e.d)},inverse:function(){return u(this.s*this.d,this.n)},pow:function(n,t){if(s(n,t),1===e.d)return e.s<0?u(Math.pow(this.s*this.d,e.n),Math.pow(this.n,e.n)):u(Math.pow(this.s*this.n,e.n),Math.pow(this.d,e.n));if(this.s<0)return null;var r=a(this.n),i=a(this.d),o=1,c=1;for(var f in r)if("1"!==f){if("0"===f){o=0;break}if(r[f]*=e.n,r[f]%e.d!==0)return null;r[f]/=e.d,o*=Math.pow(f,r[f])}for(var f in i)if("1"!==f){if(i[f]*=e.n,i[f]%e.d!==0)return null;i[f]/=e.d,c*=Math.pow(f,i[f])}return e.s<0?u(c,o):u(o,c)},equals:function(n,t){return s(n,t),this.s*this.n*e.d===e.s*e.n*this.d},compare:function(n,t){s(n,t);var r=this.s*this.n*e.d-e.s*e.n*this.d;return(0<r)-(r<0)},simplify:function(n){if(isNaN(this.n)||isNaN(this.d))return this;n=n||.001;for(var t=this.abs(),r=t.toContinued(),e=1;e<r.length;e++){for(var i=u(r[e-1],1),a=e-2;a>=0;a--)i=i.inverse().add(r[a]);if(Math.abs(i.sub(t).valueOf())<n)return i.mul(this.s)}return this},divisible:function(n,t){return s(n,t),!(!(e.n*this.d)||this.n*e.d%(e.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(n){var t,r="",e=this.n,i=this.d;return this.s<0&&(r+="-"),1===i?r+=e:(n&&(t=Math.floor(e/i))>0&&(r+=t,r+=" ",e%=i),r+=e,r+="/",r+=i),r},toLatex:function(n){var t,r="",e=this.n,i=this.d;return this.s<0&&(r+="-"),1===i?r+=e:(n&&(t=Math.floor(e/i))>0&&(r+=t,e%=i),r+="\\frac{",r+=e,r+="}{",r+=i,r+="}"),r},toContinued:function(){var n,t=this.n,r=this.d,e=[];if(isNaN(t)||isNaN(r))return e;do{e.push(Math.floor(t/r)),n=t%r,t=r,r=n}while(1!==t);return e},toString:function(n){var t=this.n,r=this.d;if(isNaN(t)||isNaN(r))return"NaN";n=n||15;var e=function(n,t){for(;t%2===0;t/=2);for(;t%5===0;t/=5);if(1===t)return 0;for(var r=10%t,e=1;1!==r;e++)if(r=10*r%t,e>2e3)return 0;return e}(0,r),i=function(n,t,r){for(var e=1,i=function(n,t,r){for(var e=1;t>0;n=n*n%r,t>>=1)1&t&&(e=e*n%r);return e}(10,r,t),u=0;u<300;u++){if(e===i)return u;e=10*e%t,i=10*i%t}return 0}(0,r,e),u=this.s<0?"-":"";if(u+=Math.floor(t/r),t%=r,(t*=10)&&(u+="."),e){for(var a=i;a--;)u+=Math.floor(t/r),t%=r,t*=10;u+="(";for(a=e;a--;)u+=Math.floor(t/r),t%=r,t*=10;u+=")"}else for(a=n;t&&a--;)u+=Math.floor(t/r),t%=r,t*=10;return u}},Object.defineProperty(t,"__esModule",{value:!0}),t.default=c,n.exports=c}()},Zd8l:function(n,t,r){"use strict";r.d(t,"a",(function(){return h}));var e=r("ODXe"),i=r("q1tI"),u=r.n(i),a=r("kelf"),s=r("Svfw"),o=r.n(s);new o.a(1,60),new o.a(1).div(4),new o.a(1).div(6),new o.a(1).div(8),new o.a(1).div(12),new o.a(1).div(16),new o.a(1).div(24),new o.a(1).div(32),new o.a(1).div(64);var c=function(n){var t=0;return function(r){for(r<=0&&(t=0);t>0&&r<=n[t].offset;)t--;for(;n[t+1]&&r>n[t+1].offset;)t++;var e=function(n,t){return 4*n*60/t}(r-n[t].offset,n[t].bpm);return n[t].time+e}},f=function(n){var t=0;return function(r){for(r<=0&&(t=0);t>0&&r<=n[t].time;)t--;for(;n[t+1]&&r>n[t+1].time;)t++;var e=function(n,t){return n*t/60/4}(r-n[t].time,n[t].bpm);return n[t].offset+e}},h=function(n){var t=u.a.useRef(),r=u.a.useRef(),i=u.a.useState(!1),s=Object(e.a)(i,2),o=s[0],h=s[1],l=u.a.useRef(0),d=u.a.useRef(0),m=u.a.useMemo((function(){return n?[Math.floor(n.arrowTimeline[n.arrowTimeline.length-1].offset)+1,f(n.bpmTimeline),c(n.bpmTimeline)]:[0,null,null]}),[n]),p=Object(e.a)(m,3),b=p[0],v=p[1],w=p[2],N=u.a.useCallback((function(n){!o&&w&&(d.current=n,l.current=w(n))}),[o]),k=u.a.useCallback((function(n){!o&&v&&(l.current=n,d.current=v(n))}),[o]),M=u.a.useCallback((function(e){n&&(e||(l.current=0,d.current=0),t.current=l.current,r.current=(new Date).getTime(),h(!0))}),[n,h]),T=u.a.useCallback((function(){h(!1)}),[h]);return u.a.useEffect((function(){T(),l.current=0,d.current=0}),[n,T]),Object(a.a)((function(){if(o&&v&&r.current&&null!=t.current){var n=((new Date).getTime()-r.current)/1e3;l.current=n+t.current,d.current=v(l.current),d.current>=b&&T()}}),[o,v,T]),[d,l,o,M,T,k,N]}},a3WO:function(n,t,r){"use strict";function e(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}r.d(t,"a",(function(){return e}))},dWXJ:function(n,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return o})),r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return l}));var e=r("o0o1"),i=r.n(e),u=r("ODXe"),a=r("HaE+"),s=null,o={tick:null,stop:null,bpm:null,shock:null,beat:null},c={normal:null,suppressed:null},f=[["normal",1],["suppressed",.25]],h=[["tick","/stepcharts/cursor12.mp3"],["stop","/stepcharts/cursor4.mp3"],["bpm","/stepcharts/cancel1.mp3"],["shock","/stepcharts/cursor7.mp3"],["beat","/stepcharts/cursor6.mp3"]],l=function(){var n=Object(a.a)(i.a.mark((function n(){var t;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s){n.next=6;break}return t=new AudioContext,s=t,f.forEach((function(n){var r=Object(u.a)(n,2),e=r[0],i=r[1],a=new GainNode(t);a.gain.value=i,a.connect(t.destination),c[e]=a})),n.next=6,Promise.all(h.map(function(){var n=Object(a.a)(i.a.mark((function n(r){var e,a,s,c,f;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=Object(u.a)(r,2),a=e[0],s=e[1],n.next=3,fetch(s);case 3:return c=n.sent,n.next=6,c.arrayBuffer();case 6:return f=n.sent,n.next=9,t.decodeAudioData(f);case 9:o[a]=n.sent;case 10:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()));case 6:return n.abrupt("return",s);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()},kelf:function(n,t,r){"use strict";r.d(t,"a",(function(){return u}));var e=r("q1tI"),i=r.n(e),u=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1?arguments[1]:void 0,r=i.a.useRef(),e=i.a.useCallback(n,t);i.a.useEffect((function(){return r.current=requestAnimationFrame((function n(){r.current=requestAnimationFrame(n),e()})),function(){r.current&&cancelAnimationFrame(r.current)}}),[e])}}}]);