(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[5],{"5F1B":function(t,e,n){t.exports={breadcrumb:"s",breadcrumbEntry:"t",breadcrumbEntryLink:"u"}},"6sas":function(t,e,n){"use strict";n.d(e,"a",(function(){return D}));var r=n("KQm4"),a=n("o0o1"),u=n.n(a),c=n("HaE+"),o=n("ODXe"),i=n("q1tI"),s=n.n(i),l=n("YFqc"),f=n.n(l),m=n("P0ud"),p=n("5F1B"),b=n.n(p),d=s.a.createElement;function v(t,e){var n=e.indexOf(t),r=e.reduce((function(t,e,r){return r>n?t:t.concat(e.pathSegment)}),[]);return"".concat(r.join("/"))||"/"}var h={display:"Top",pathSegment:""};function y(t){t.className;var e=t.crumbs,n=[h].concat(e).map((function(t,e,n){return e===n.length-1?d("li",{key:t.pathSegment,className:b.a.breadcrumbEntry},t.display):d("li",{key:t.pathSegment,className:b.a.breadcrumbEntry},d(f.a,{href:v(t,n)},d("a",{className:b.a.breadcrumbEntryLink},t.display)))}),[]);return d("nav",null,d("ul",{className:b.a.breadcrumb},n))}var g=n("9/5/"),j=n.n(g),O=n("PSzL"),w=n.n(O),k=s.a.createElement,x=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],C=["arrows","stops","jumps","jacks","freezes","gallops","bpmShifts","shocks"],S=[{value:"title",label:"\u66f2\u540d"},{value:"artist",label:"\u30a2\u30fc\u30c6\u30a3\u30b9\u30c8"},{value:"level",label:"\u96e3\u6613\u5ea6\u5024"},{value:"minBpm",label:"\u6700\u5c0fBPM"},{value:"maxBpm",label:"\u6700\u5927BPM"},{value:"arrows",label:"\u30b9\u30c6\u30c3\u30d7\u6570"},{value:"jumps",label:"\u30b8\u30e3\u30f3\u30d7"},{value:"jacks",label:"\u7e26\u9023"},{value:"freezes",label:"\u30d5\u30ea\u30fc\u30ba"},{value:"gallops",label:"\u30b9\u30ad\u30c3\u30d7"},{value:"stops",label:"\u505c\u6b62\u56de\u6570"},{value:"bpmShifts",label:"\u5909\u901f\u56de\u6570"},{value:"shocks",label:"\u30b7\u30e7\u30c3\u30af"}];var N=function(t){var e=t.filter,n=t.sortedBy,r=t.levelRange,a=t.hardestOnly,u=t.onChangeFilter,c=t.onChangeLevelRange,o=t.onChangeSortedBy,s=t.onChangeHardestOnly,l=Object(i.useState)(e),f=l[0],m=l[1],p=Object(i.useMemo)((function(){return j()(u,200)}),[u]),b=Object(i.useCallback)((function(t){m(t),p(t)}),[m,p]);return k("div",{className:w.a.filterContainer},k("div",null,"\u7d5e\u308a\u8fbc\u307f\uff1a",k("input",{type:"text",className:w.a.input,value:f,onChange:function(t){return b(t.target.value)}})),k("div",null,"\u4e26\u3079\u66ff\u3048\uff1a",k("select",{className:w.a.input,value:n,onChange:function(t){return o(t.target.value)}},S.map((function(t){return k("option",{key:t.value,value:t.value},t.label)})))),k("div",null,"\u30ec\u30d9\u30eb\uff1a",k("select",{className:w.a.input,value:r[0],onChange:function(t){return c([Number(t.target.value),r[1]])}},x.map((function(t){return t<=r[1]&&k("option",{key:t,value:t},t)})))," \u301c ",k("select",{className:w.a.input,value:r[1],onChange:function(t){return c([r[0],Number(t.target.value)])}},x.map((function(t){return r[0]<=t&&k("option",{key:t,value:t},t)})))),k("div",null,"\u6fc0\u9b3c\u306e\u307f\uff1a",k("input",{type:"checkbox",checked:a,onChange:function(t){return s(!!t.target.checked)}})))},B=n("Zd8l"),E=n("pEhc"),I=n("dWXJ"),A=n("NLPX"),T=n.n(A),L=s.a.createElement,R={beginner:"\u7fd2",basic:"\u697d",difficult:"\u8e0a",expert:"\u6fc0",challenge:"\u9b3c",edit:"\uff1f"},M=function(t){var e=t.titles,n=(t.totalTitleCount,t.getSortValueFunction),r=Object(i.useState)(),a=r[0],l=r[1],m=Object(i.useState)(),p=m[0],b=m[1],d=Object(B.a)(p),v=Object(o.a)(d,4),h=v[0],y=v[1],g=v[2],j=v[3],O=s.a.useCallback(function(){var t=Object(c.a)(u.a.mark((function t(e){var n,r,a,c,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(o.a)(e,3),r=n[0],a=n[1],c=n[2],t.next=3,fetch("/stepcharts/_data/".concat(r,"/").concat(a,"/").concat(c,".json"));case 3:return i=t.sent,t.next=6,Object(I.d)();case 6:return l([r,a,c]),t.t0=b,t.next=10,i.json();case 10:t.t1=t.sent,(0,t.t0)(t.t1);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[b]);return Object(i.useEffect)((function(){p&&g()}),[p]),L("div",null,L("table",{className:T.a.newTable},L("thead",null,L("tr",null,L("td",null,"\u8b5c\u9762"),L("td",null,"\u697d\u66f2"))),L("tbody",null,e.map((function(t){var e="/".concat(t.mixId,"/").concat(t.songId,"/").concat(t.difficulty),r=n(t),u=y&&a&&a[0]===t.mixId&&a[1]===t.songId&&a[2]===t.difficulty;return L("tr",{key:e,className:T.a.row},L("td",null,L(f.a,{href:e},L("a",{className:"".concat(T.a.difficulty," ").concat(T.a[t.difficulty])},R[t.difficulty],t.level))),L("td",null,u?L("button",{onClick:j},"\u23f9\ufe0f"):L("button",{onClick:function(){return O([t.mixId,t.songId,t.difficulty])}},"\u25b6\ufe0f")," ",L(f.a,{href:e},L("a",{className:T.a.title},t.title)),r&&L(f.a,{href:e},L("span",{className:T.a.sortValue},r))))})))),p&&L(E.a,{chart:p,offsetRef:h}))};function D(t){var e=t.titles,n=t.crumbs,a=Object(i.useState)(S[0].value),u=a[0],c=a[1],o=Object(i.useState)(""),s=o[0],l=o[1],f=Object(i.useState)([x[0],x[x.length-1]]),p=f[0],b=f[1],d=Object(i.useState)(!0),v=d[0],h=d[1],g=Object(i.useMemo)((function(){var t=s.trim().toLowerCase().split(" "),n=e.filter((function(t){return p[0]<=t.level&&t.level<=p[1]}));return v&&(n=n.filter((function(t){return"expert"===t.difficulty||"challenge"===t.difficulty}))),s.trim()&&(n=n.filter((function(e){return t.every((function(t){return e.filterString.includes(t)}))}))),n}),[e,s,p,v]),j=Object(i.useMemo)((function(){return Object(r.a)(g).sort(function(t){switch(t){case"title":return function(t,e){return(t.titleTranslit||t.title).toLowerCase().localeCompare((e.titleTranslit||e.title).toLowerCase())};case"artist":return function(t,e){var n;return(null!==(n=t.artist)&&void 0!==n?n:"").toLowerCase().localeCompare(e.artist)};case"minBpm":return function(t,e){return t.minBpm-e.minBpm};default:return function(e,n){var r=e[t];return n[t]-r}}}(u))}),[g,u]),O=Object(i.useMemo)((function(){return t=u,-1!==C.findIndex((function(e){return e===t}))?function(e){var n,r=e[t];return"".concat(r," ").concat((n=t,1===r?n.substring(0,n.length-1):n))}:"artist"===t?function(t){return t.artist}:"minBpm"===t||"maxBpm"===t?function(t){return(t.minBpm!==t.mainBpm?"(".concat(t.minBpm,")-"):"")+"".concat(t.mainBpm)+(t.maxBpm!==t.mainBpm?"-(".concat(t.maxBpm,")"):"")}:function(t){return null};var t}),[u]),w=L("div",{className:T.a.chartCount},e.length===j.length?L("span",null,"\u5168 ",e.length," \u8b5c\u9762"):L("span",null,L("b",null,j.length)," \u8b5c\u9762\u304c\u30de\u30c3\u30c1 ",L("small",null,"(",e.length," \u8b5c\u9762\u4e2d)")));return L(m.a,{title:"All Songs",subheading:n&&L(y,{crumbs:n}),metaDescription:"All ".concat(e.length," songs available at stepcharts.com")},L(N,{filter:s,sortedBy:u,levelRange:p,hardestOnly:v,onChangeFilter:l,onChangeLevelRange:b,onChangeSortedBy:c,onChangeHardestOnly:h}),w,L(M,{titles:j,totalTitleCount:e.length,getSortValueFunction:O}))}},"9/5/":function(t,e,n){(function(e){var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,o="object"==typeof e&&e&&e.Object===Object&&e,i="object"==typeof self&&self&&self.Object===Object&&self,s=o||i||Function("return this")(),l=Object.prototype.toString,f=Math.max,m=Math.min,p=function(){return s.Date.now()};function b(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function d(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==l.call(t)}(t))return NaN;if(b(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=b(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(n,"");var o=a.test(t);return o||u.test(t)?c(t.slice(2),o?2:8):r.test(t)?NaN:+t}t.exports=function(t,e,n){var r,a,u,c,o,i,s=0,l=!1,v=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var n=r,u=a;return r=a=void 0,s=e,c=t.apply(u,n)}function g(t){return s=t,o=setTimeout(O,e),l?y(t):c}function j(t){var n=t-i;return void 0===i||n>=e||n<0||v&&t-s>=u}function O(){var t=p();if(j(t))return w(t);o=setTimeout(O,function(t){var n=e-(t-i);return v?m(n,u-(t-s)):n}(t))}function w(t){return o=void 0,h&&r?y(t):(r=a=void 0,c)}function k(){var t=p(),n=j(t);if(r=arguments,a=this,i=t,n){if(void 0===o)return g(i);if(v)return o=setTimeout(O,e),y(i)}return void 0===o&&(o=setTimeout(O,e)),c}return e=d(e)||0,b(n)&&(l=!!n.leading,u=(v="maxWait"in n)?f(d(n.maxWait)||0,e):u,h="trailing"in n?!!n.trailing:h),k.cancel=function(){void 0!==o&&clearTimeout(o),s=0,r=i=a=o=void 0},k.flush=function(){return void 0===o?c:w(p())},k}}).call(this,n("yLpj"))},BsWD:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("a3WO");function a(t,e){if(t){if("string"===typeof t)return Object(r.a)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(t,e):void 0}}},"HaE+":function(t,e,n){"use strict";function r(t,e,n,r,a,u,c){try{var o=t[u](c),i=o.value}catch(s){return void n(s)}o.done?e(i):Promise.resolve(i).then(r,a)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(a,u){var c=t.apply(e,n);function o(t){r(c,a,u,o,i,"next",t)}function i(t){r(c,a,u,o,i,"throw",t)}o(void 0)}))}}n.d(e,"a",(function(){return a}))},KQm4:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("a3WO");var a=n("BsWD");function u(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(a.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},NLPX:function(t,e,n){t.exports={newTable:"c",difficulty:"d",beginner:"e",basic:"f",difficult:"g",expert:"h",challenge:"i",edit:"j",sortValue:"k",title:"l",chartCount:"m"}},ODXe:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("BsWD");function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,a=!1,u=void 0;try{for(var c,o=t[Symbol.iterator]();!(r=(c=o.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(i){a=!0,u=i}finally{try{r||null==o.return||o.return()}finally{if(a)throw u}}return n}}(t,e)||Object(r.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},PSzL:function(t,e,n){t.exports={filterContainer:"q",input:"r"}},Zd8l:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("ODXe"),a=n("q1tI"),u=n.n(a),c=n("KQm4"),o=n("kelf"),i=function(t){var e=u.a.useRef(),n=u.a.useState(!1),a=Object(r.a)(n,2),i=a[0],s=a[1],l=u.a.useRef(0),f=u.a.useRef(0),m=u.a.useMemo((function(){if(!t)return null;var e=function(t){var e=[].concat(Object(c.a)(t.bpm.map((function(t){return{offset:t.startOffset,bpm:t.bpm}}))),Object(c.a)(t.stops.map((function(t){return{offset:t.offset,stop:t.duration}})))).sort((function(t,e){return t.offset-e.offset})),n=[{time:0,offset:0,bpm:e.shift().bpm}];return e.forEach((function(t){var e=n[0].bpm,r=4*(t.offset-n[0].offset)/e*60,a=n[0].time+r;"bpm"in t?n.unshift({time:a,offset:t.offset,bpm:t.bpm}):(n.unshift({time:a,offset:t.offset,bpm:0}),n.unshift({time:a+t.stop,offset:t.offset,bpm:e}))})),n.reverse()}(t);return function(t){var n;for(n=f.current;e[n+1]&&e[n+1].time<t;n++);return f.current=n,(t-e[n].time)*e[n].bpm/60/4+e[n].offset}}),[t,f]),p=u.a.useCallback((function(){t&&(e.current=(new Date).getTime(),f.current=0,l.current=0,s(!0))}),[t,e,f,l,s]),b=u.a.useCallback((function(){s(!1)}),[s]);u.a.useEffect((function(){b()}),[t,b]);var d=u.a.useCallback((function(){i&&m&&e.current&&(l.current=m(((new Date).getTime()-e.current)/1e3))}),[i,m,e,l]);return Object(o.a)(d),[l,i,p,b]}},a3WO:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return r}))},dWXJ:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return m}));var r=n("o0o1"),a=n.n(r),u=n("ODXe"),c=n("HaE+"),o=null,i={tick:null,stop:null,bpm:null,shock:null,beat:null},s={normal:null,suppressed:null},l=[["normal",1],["suppressed",.25]],f=[["tick","/stepcharts/cursor12.mp3"],["stop","/stepcharts/cursor4.mp3"],["bpm","/stepcharts/cancel1.mp3"],["shock","/stepcharts/cursor7.mp3"],["beat","/stepcharts/cursor6.mp3"]],m=function(){var t=Object(c.a)(a.a.mark((function t(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o){t.next=6;break}return e=new AudioContext,o=e,l.forEach((function(t){var n=Object(u.a)(t,2),r=n[0],a=n[1],c=new GainNode(e);c.gain.value=a,c.connect(e.destination),s[r]=c})),t.next=6,Promise.all(f.map(function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c,o,s,l;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(u.a)(n,2),c=r[0],o=r[1],t.next=3,fetch(o);case 3:return s=t.sent,t.next=6,s.arrayBuffer();case 6:return l=t.sent,t.next=9,e.decodeAudioData(l);case 9:i[c]=t.sent;case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},kelf:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("q1tI"),a=n.n(r),u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},e=a.a.useRef();a.a.useEffect((function(){return e.current=requestAnimationFrame((function n(){e.current=requestAnimationFrame(n),t()})),function(){e.current&&cancelAnimationFrame(e.current)}}),[t])}},pEhc:function(t,e,n){"use strict";var r=n("q1tI"),a=n.n(r),u=n("dWXJ"),c=n("kelf"),o=function(t,e){if(u.b&&t&&e){var n=new AudioBufferSourceNode(u.b);return n.buffer=e,n.connect(t),n.start(),!0}return!1};e.a=function(t){var e=t.chart,n=t.offsetRef,r=a.a.useMemo((function(){return Math.floor(e.arrows[e.arrows.length-1].offset)+1}),[e]),i=a.a.useRef(0),s=a.a.useCallback((function(){i.current<n.current&&n.current<=r&&o(u.c.suppressed,u.a.beat)&&(i.current=n.current-n.current%.25+.25)}),[n,r,i]),l=a.a.useRef(0),f=a.a.useCallback((function(){if(e.arrows[l.current]&&e.arrows[l.current].offset<n.current){if(e.arrows[l.current].direction.match(/M/))o(u.c.suppressed,u.a.shock);else{var t=e.arrows[l.current].direction.match(/[12].*[12]/);o(u.c.normal,u.a.tick),t&&o(u.c.normal,u.a.tick)}for(;e.arrows[l.current]&&e.arrows[l.current].offset<=n.current;)l.current++}}),[n,l,e]),m=a.a.useRef(0),p=a.a.useCallback((function(){if(e.stops[m.current]&&e.stops[m.current].offset<n.current)for(o(u.c.suppressed,u.a.stop);e.stops[m.current]&&e.stops[m.current].offset<=n.current;)m.current++}),[n,m]),b=a.a.useRef(0),d=a.a.useCallback((function(){n.current<b.current&&(i.current=n.current-n.current%.25,l.current=e.arrows.findIndex((function(t){return n.current<=t.offset})),m.current=e.stops.findIndex((function(t){return n.current<=t.offset}))),b.current=n.current}),[n,b,e]),v=a.a.useCallback((function(){d(),s(),f(),p()}),[d,s,f,p]);return Object(c.a)(v),null}},yLpj:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n}}]);